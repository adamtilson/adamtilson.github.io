<!DOCTYPE html>
<!-- Top Navigation modified from CodingNepal - https://www.codingnepalweb.com/mega-menu-and-dropdown-menu-html-css/ -->
<!-- Side navigation modified from Sticky, Smooth, Active Nav by Chris Coyier https://codepen.io/chriscoyier/pen/qyELzd -->
<!-- Collabsibles from W3Schools https://www.w3schools.com/howto/howto_js_collapsible.asp -->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> ENSE 374 Lab 5 </title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/> 
  <link rel="stylesheet" href="/assets/css/style.css?v=">
  <link rel="icon" type="image/svg+xml" href="/assets/svg/at.svg">
  <!-- for mathjax support -->

</head>
<body>
  <nav id="site">
    <div class="wrapper">
      <div class="logo"><a href="#"><img
        src="/assets/svg/at.svg" alt="logo" height="35" width="35" /></a></div>
      <input type="radio" name="slider" id="menu-btn">
      <input type="radio" name="slider" id="close-btn">
      <ul class="nav-links">
        <label for="close-btn" class="btn close-btn"><i class="fas fa-times"></i></label>
        <!-- <li><a href="#">Blog</a></li>
        <li>
          <a href="#" class="desktop-item">CV ▾</a>
          <input type="checkbox" id="showDrop">
          <label for="showDrop" class="mobile-item">CV ▾</label>
          <ul class="drop-menu">
            <li><a href="#">Technical</a></li>
            <li><a href="#">Academic</a></li>
          </ul>
        </li> -->
        <li>
          <a href="#" class="desktop-item">Laboratory ▾</a>
          <input type="checkbox" id="showMega">
          <label for="showMega" class="mobile-item">Laboratory ▾</label>
          <div class="mega-box">
            <div class="content">


              <div class="row">
                <header>ENSE 271</header>
                <ul class="mega-links">
                  <li><a href="/labs/ense-271/">Schedule</a></li>
                  <li><a href="/labs/ense-271/lab-1">Lab 1</a></li>
                  <li><a href="/labs/ense-271/lab-2">Lab 2</a></li>
                  <li><a href="/labs/ense-271/lab-3">Lab 3</a></li>
                  <li><a href="/labs/ense-271/lab-4">Lab 4</a></li>
                  <li><a href="/labs/ense-271/lab-5">Lab 5</a></li>
                  <li><a href="/labs/ense-271/lab-6">Lab 6</a></li>
                  <!-- <li><a href="/labs/ense-271/lab-7">Lab 7</a></li> -->
                </ul>
              </div>

              <!-- <div class="row">
                <header>ENSE 374</header>
                <ul class="mega-links">
                  <li><a href="/labs/ense-374/">Schedule</a></li>
                  <li><a href="/labs/ense-374/lab-1">Lab 1</a></li>
                  <li><a href="/labs/ense-374/lab-2">Lab 2</a></li>
                  <li><a href="/labs/ense-374/lab-3">Lab 3</a></li>
                  <li><a href="/labs/ense-374/lab-4">Lab 4</a></li>
                  <li><a href="/labs/ense-374/lab-5">Lab 5</a></li>
                  <li><a href="/labs/ense-374/lab-6">Lab 6</a></li>
                  <li><a href="/labs/ense-374/lab-7">Lab 7</a></li>
                  <li><a href="/labs/ense-374/lab-8">Lab 8</a></li>
                  <li><a href="/labs/ense-374/lab-9">Lab 9</a></li>
                </ul>
              </div> -->

              <!-- <div class="row">
                <header>ENSE 411</header>
                <ul class="mega-links">
                  <li><a href="/labs/ense-411/schedule">Schedule</a></li>
                  <li><a href="/labs/ense-411/lab-0">Lab 0</a></li>
                  <li><a href="/labs/ense-411/lab-1">Lab 1</a></li>
                  <li><a href="/labs/ense-411/lab-2">Lab 2</a></li>
                  <li><a href="/labs/ense-411/lab-3">Lab 3</a></li>
                  <li><a href="/labs/ense-411/lab-4">Lab 4</a></li>
                  <li><a href="/labs/ense-411/lab-5">Lab 5</a></li>
                </ul>
              </div> -->

              <!-- <div class="row">
                <header>ENSE 472</header>
                <ul class="mega-links">
                  <li><a href="/labs/ense-472/">Schedule</a></li>
                  <li><a href="/labs/ense-472/lab-1">Lab 1</a></li>
                  <li><a href="/labs/ense-472/lab-2">Lab 2</a></li>
                  <li><a href="/labs/ense-472/lab-3">Lab 3</a></li>
                  <li><a href="/labs/ense-472/lab-4">Lab 4</a></li>
                  <li><a href="/labs/ense-472/lab-5">Lab 5</a></li>
                </ul>
              </div> -->
            </div>
          </div>
        </li>
        <li><a href="javascript:void(0);" id="darklink">🌞︎</a></li>
      </ul>
      <label for="menu-btn" class="btn menu-btn"><i class="fas fa-bars"></i></label>
    </div>
  </nav>
  
  <div class="body">
    <nav id="toc-nav">
      <ul id="toc">

      </ul>
    </nav>

    <main id="content" class="main-content" role="main">
        <p></p>
        <h1 id="lab-5-jquery">Lab 5: jQuery</h1>

<p>ENSE 374 - Software Engineering Management - Laboratory</p>

<p>University of Regina - Engineering and Applied Science - Software Systems Engineering</p>

<p>Lab Instructor: <a href="mailto:Adam.Tilson@uregina.ca">Adam Tilson</a></p>

<hr />

<p><button class="expandall">Collapse All</button></p>
<section id="objective"><button class="collapsible">Objective</button><div class="text-content"><div class="text-inner">

      <p>This lab introduces jQuery, a JavaScript library which makes writing JavaScript code, particularly involving DOM operations, much faster. In particular it handles things like DOM traversal and manipulation, event handling and animations. Additionally, jQuery acts as an introduction to JavaScript libraries, of which many exist, so that you can understand the process of finding, integrating and using a JavaScript library.</p>

    </div></div></section>
<section id="equipment"><button class="collapsible">Equipment</button><div class="text-content"><div class="text-inner">

      <p>Computer running Windows, MacOS or Linux, with an Intel or AMD-based processor (x86 or x86-64) with administrator privileges.</p>
      <ul>
        <li>A modern web browser, with a strong preference for Firefox or Chrome</li>
        <li>A text editor, preferably VS Code</li>
      </ul>

    </div></div></section>
<section id="part1introductiontojquery"><button class="collapsible">Part 1: Introduction to JQuery</button><div class="text-content"><div class="text-inner">

      <h3 id="why-use-jquery">Why use jQuery</h3>

      <p>jQuery can simplify JavaScript DOM operations using shortcuts:</p>

      <ul>
        <li>finding elements with the query selector</li>
        <li>adding event listeners</li>
        <li>
          <p>changing css</p>
        </li>
        <li>Makes common things you do faster / easier
          <ul>
            <li>Because we don’t like typing!</li>
          </ul>
        </li>
      </ul>

      <h3 id="is-it-worth-learning-today">Is it Worth Learning Today?</h3>

      <ul>
        <li>Debatable.</li>
        <li>For small projects, it may be better to exclude it for performance</li>
        <li>For bigger projects, it may be better to use a FrameWork like Vue, React or Angular</li>
        <li>Recently BootStrap dropped it as a dependency in favour of vanilla JavaScript</li>
        <li>Most of the advantages of using it are now native in JavaScript, or CSS (animations)</li>
        <li>It is still useful to learn to support legacy projects using it, like ~94.4% of the web (2023).</li>
      </ul>

      <h3 id="how-do-we-get-it">How do we get it</h3>

      <p>You can get JQuery from the CDN!</p>
      <ul>
        <li><a href="https://developers.google.com/speed/libraries">Google has a good one</a> that will likely be cached in many people’s browsers:
          <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"&gt;&lt;/script&gt; 
</code></pre></div>          </div>
        </li>
      </ul>

      <h3 id="where-to-add-the-link">Where to add the link:</h3>

      <p>jQuery, like other JavaScript, should be added at the bottom of the HTML</p>
      <ul>
        <li>Add it before the closing <code class="language-plaintext highlighter-rouge">&lt;/body&gt;</code> tag, before your custom JavaScript.</li>
        <li>Your browser reads HTML top to bottom, so we want to know about jQuery functionality before running our own scripts</li>
      </ul>

      <p>in <code class="language-plaintext highlighter-rouge">index.html</code>…</p>

      <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- your code up here --&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"script.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>      </div>

      <h3 id="where-can-i-get-help">Where can I get help?</h3>

      <p>The official docs are not bad: <a href="https://api.jquery.com/">jQuery API</a></p>

      <p>This cheat sheet is quite useful: <a href="https://oscarotero.com/jquery/">Cheat Sheet</a></p>

      <h3 id="main-entry">Main Entry</h3>

      <ul>
        <li>Create a JavaScript file, link it in the HTML (After the jQuery link), and add the following:</li>
      </ul>

      <p>in <code class="language-plaintext highlighter-rouge">script.js</code>…</p>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span> 
 <span class="c1">//Put your javascript in here</span>
<span class="p">});</span>
</code></pre></div>      </div>

      <ul>
        <li>Recall this is callback syntax with an anonymous function being called when the document is ready. You can think of this like the ‘main’ function in other languages.</li>
      </ul>

      <h3 id="minifyed-libraries">“Minify”ed Libraries</h3>

      <ul>
        <li>If you try to read jQuery code, it’s gonna be illegible. Why?
          <ul>
            <li>Minifying.</li>
            <li>Removes all whitespace (which is for humans, not computers) so that we pass less data over the network.</li>
            <li>The same thing happens with Bootstrap (min).</li>
            <li>If you want to read the code, you need to find a non-min version of the library.</li>
          </ul>
        </li>
      </ul>

    </div></div></section>
<section id="part2selectionwithjquery"><button class="collapsible">Part 2: Selection with jQuery</button><div class="text-content"><div class="text-inner">

      <p><a href="https://learn.jquery.com/using-jquery-core/selecting-elements/">Selection tutorial</a></p>

      <p>Selection is the core operation of jQuery</p>
      <ul>
        <li>Selection rules are the same as <code class="language-plaintext highlighter-rouge">querySelectorAll</code>
          <ul>
            <li>Recall this is the same as CSS selectors</li>
          </ul>
        </li>
        <li>the basic selection function is: <code class="language-plaintext highlighter-rouge">$( "..." )</code></li>
      </ul>

      <p>e.g.</p>
      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">myId</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">#my-id</span><span class="dl">"</span> <span class="p">);</span>
<span class="kd">let</span> <span class="nx">myClass</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">.my-class</span><span class="dl">"</span> <span class="p">);</span>
<span class="kd">let</span> <span class="nx">firstNameInput</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">input[name='first-name']</span><span class="dl">"</span> <span class="p">);</span>
</code></pre></div>      </div>

      <h3 id="whats-with-the--dollar-sign">What’s with the <code class="language-plaintext highlighter-rouge">$</code> (dollar sign)?</h3>
      <p>In JavaScript, it’s legal to use <code class="language-plaintext highlighter-rouge">$</code> as a variable name. It is used as an alias for <code class="language-plaintext highlighter-rouge">jQuery</code>.</p>
      <ul>
        <li>You could, instead, use <code class="language-plaintext highlighter-rouge">jQuery</code> everywhere for more readable code, though that defeats the purpose of jQuery!</li>
        <li>Theoretically (but unlikely) there could be conflicts with other frameworks using this variable.</li>
      </ul>

      <h3 id="cascading">Cascading</h3>

      <p>Recall from last week we can cascade function calls. This is the intended usage of jQuery, rather than storing things in variables where possible:</p>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">#my-div</span><span class="dl">"</span> <span class="p">).</span><span class="nx">text</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Some new text</span><span class="dl">"</span> <span class="p">);</span>
</code></pre></div>      </div>

    </div></div></section>
<section id="part3addingandremovingelements"><button class="collapsible">Part 3: Adding and Removing elements</button><div class="text-content"><div class="text-inner">

      <h3 id="adding-elements">Adding elements</h3>

      <p>To add an element, first you need to find an element relative to where you wish to insert. Then you can use the following four function to insert:</p>

      <p><code class="language-plaintext highlighter-rouge">before</code>, <code class="language-plaintext highlighter-rouge">after</code> -&gt; before or after the selected element, outside the tag
<code class="language-plaintext highlighter-rouge">prepend</code>, <code class="language-plaintext highlighter-rouge">append</code> -&gt; first or last thing inside the selected element</p>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">h1</span><span class="dl">"</span> <span class="p">).</span><span class="nx">before</span><span class="p">(</span> <span class="dl">"</span><span class="s2">&lt;button&gt;new&lt;/button&gt;</span><span class="dl">"</span> <span class="p">)</span>
</code></pre></div>      </div>

      <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="nt">&lt;h1&gt;</span>     Hello World     <span class="nt">&lt;/h1&gt;</span>  
   ^        ^               ^         ^
before   prepend         append     after
</code></pre></div>      </div>

      <h3 id="removing-elements">Removing elements</h3>
      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">element</span><span class="dl">"</span> <span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</code></pre></div>      </div>

    </div></div></section>
<section id="part4settingcssusingjquery"><button class="collapsible">Part 4: Setting CSS using jQuery</button><div class="text-content"><div class="text-inner">

      <p><code class="language-plaintext highlighter-rouge">.css("property", "value")</code></p>

      <ul>
        <li>uses strings so it avoids all the awful kebab-case to camelCase nonsense we saw last week</li>
        <li>If a single argument is used, it is acts as a getter.</li>
        <li>If two arguments are used, it acts as a setter.</li>
      </ul>

      <p>Finding a variable and setting css:</p>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">p</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">p</span><span class="dl">"</span> <span class="p">);</span>
<span class="nx">p</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span> <span class="dl">"</span><span class="s2">background-color</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">#986D8E</span><span class="dl">"</span> <span class="p">);</span>
</code></pre></div>      </div>

      <p>More common, we use cascading rather than saving things in a temp variable:</p>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">p</span><span class="dl">"</span> <span class="p">).</span><span class="nx">css</span><span class="p">(</span> <span class="dl">"</span><span class="s2">background-color</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">#986D8E</span><span class="dl">"</span> <span class="p">);</span>
</code></pre></div>      </div>

      <h3 id="css-separation-of-concern">CSS Separation of Concern</h3>

      <p>Recall last week’s tutorial</p>
      <ul>
        <li>it’s a bad move to do CSS styles through JS / DOM,</li>
        <li>instead it makes more sense just to attach or remove classes with pre-defined styles</li>
        <li>using jQuery…</li>
      </ul>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">p</span><span class="dl">"</span> <span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span> <span class="dl">"</span><span class="s2">big-title</span><span class="dl">"</span> <span class="p">)</span>
<span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">p</span><span class="dl">"</span> <span class="p">).</span><span class="nx">addClass</span><span class="p">(</span> <span class="dl">"</span><span class="s2">big-title</span><span class="dl">"</span> <span class="p">)</span>
<span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">p</span><span class="dl">"</span> <span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span> <span class="dl">"</span><span class="s2">big-title</span><span class="dl">"</span> <span class="p">)</span>
</code></pre></div>      </div>

    </div></div></section>
<section id="part5changingattributes"><button class="collapsible">Part 5: Changing Attributes</button><div class="text-content"><div class="text-inner">

      <h3 id="setting-text">Setting text</h3>

      <p>Rather than DOM <code class="language-plaintext highlighter-rouge">innerText</code>, it’s just <code class="language-plaintext highlighter-rouge">text</code></p>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">h1</span><span class="dl">"</span> <span class="p">).</span><span class="nx">text</span><span class="p">(</span> <span class="dl">"</span><span class="s2">Bye</span><span class="dl">"</span> <span class="p">);</span>
</code></pre></div>      </div>

      <p>Similarly, rather than <code class="language-plaintext highlighter-rouge">InnerHTML</code>, in jQuery it’s <code class="language-plaintext highlighter-rouge">HTML</code></p>

      <h3 id="manipulating-attributes">Manipulating Attributes</h3>

      <p>getter:</p>
      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">a</span><span class="dl">"</span> <span class="p">).</span><span class="nx">attr</span><span class="p">(</span> <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span> <span class="p">)</span>
</code></pre></div>      </div>

      <p>setter:</p>
      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">a</span><span class="dl">"</span> <span class="p">).</span><span class="nx">attr</span><span class="p">(</span> <span class="dl">"</span><span class="s2">href</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">https://www.google.com/</span><span class="dl">"</span> <span class="p">)</span>
</code></pre></div>      </div>

      <h3 id="getting-form-values">Getting Form Values</h3>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">#my-text-input</span><span class="dl">"</span> <span class="p">).</span><span class="nx">val</span><span class="p">()</span>
</code></pre></div>      </div>

    </div></div></section>
<section id="part6events"><button class="collapsible">Part 6: Events</button><div class="text-content"><div class="text-inner">

      <h3 id="adding-event-listeners">Adding event listeners</h3>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">h1</span><span class="dl">"</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// your onclick code goes here!</span>
<span class="p">});</span>
</code></pre></div>      </div>

      <h3 id="adding-keypress-listeners">Adding KeyPress listeners</h3>

      <p>To an element…</p>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">input</span><span class="dl">"</span> <span class="p">).</span><span class="nx">keypress</span><span class="p">(</span> <span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// your onkeypress code goes here!</span>
<span class="p">});</span>
</code></pre></div>      </div>
      <p>To a document…</p>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="nb">document</span> <span class="p">).</span><span class="nx">keypress</span><span class="p">(</span> <span class="p">(</span> <span class="nx">e</span> <span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="p">(</span> <span class="nx">e</span><span class="p">.</span><span class="nx">code</span> <span class="p">);</span>
<span class="p">});</span>
</code></pre></div>      </div>

      <h3 id="adding-other-listeners">Adding other listeners</h3>
      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">h1</span><span class="dl">"</span> <span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="dl">"</span><span class="s2">mouseover</span><span class="dl">"</span> <span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">h1</span><span class="dl">"</span> <span class="p">).</span><span class="nx">css</span><span class="p">(</span> <span class="dl">"</span><span class="s2">color</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">purple</span><span class="dl">"</span><span class="p">)</span> <span class="p">;</span>
<span class="p">});</span>
</code></pre></div>      </div>

      <h3 id="adding-listeners-for-all-buttons-in-a-class">Adding listeners for all buttons in a class</h3>
      <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">.dropdown-item</span><span class="dl">'</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span> <span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">text</span><span class="p">()</span> <span class="p">)</span>
    <span class="p">})</span>
<span class="p">});</span>
</code></pre></div>      </div>

    </div></div></section>
<section id="part7animatingwithjquery"><button class="collapsible">Part 7: Animating with jQuery</button><div class="text-content"><div class="text-inner">

      <ul>
        <li>jQuery lets you animate over CSS properties
          <ul>
            <li>that is, change a CSS property over time</li>
            <li>Your element starts at a starting value
              <ul>
                <li>And it ends at a value provided by you</li>
                <li>You can optionally choose the time as well, and easing method</li>
              </ul>
            </li>
            <li>The value changes over time, which is called “tweening”</li>
          </ul>
        </li>
        <li>This only works with numeric values, with the exceptions of show, hide and toggle</li>
      </ul>

      <p><a href="https://www.w3schools.com/jquery/eff_animate.asp">Animating with jQuery</a></p>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">).</span><span class="nx">animate</span><span class="p">({</span><span class="na">width</span><span class="p">:</span> <span class="dl">"</span><span class="s2">500px</span><span class="dl">"</span><span class="p">});</span>
<span class="p">});</span>
</code></pre></div>      </div>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">element</span><span class="dl">"</span> <span class="p">).</span><span class="nx">hide</span><span class="p">();</span> <span class="c1">// will hide an element, i.e. display: none</span>
<span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">element</span><span class="dl">"</span> <span class="p">).</span><span class="nx">show</span><span class="p">();</span>
<span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">element</span><span class="dl">"</span> <span class="p">).</span><span class="nx">toggle</span><span class="p">();</span>
<span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">element</span><span class="dl">"</span> <span class="p">).</span><span class="nx">fadeOut</span><span class="p">();</span> <span class="c1">// like hide, but less jarring</span>
<span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">element</span><span class="dl">"</span> <span class="p">).</span><span class="nx">fadeIn</span><span class="p">();</span>
<span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">element</span><span class="dl">"</span> <span class="p">).</span><span class="nx">fadeToggle</span><span class="p">();</span>
<span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">element</span><span class="dl">"</span> <span class="p">).</span><span class="nx">slideUp</span><span class="p">();</span>  <span class="c1">// another type of hiding. Up =&gt; Hide, Down =&gt; Show, Toggle</span>
<span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">element</span><span class="dl">"</span> <span class="p">).</span><span class="nx">animate</span><span class="p">(</span>  <span class="cm">/*the CSS rule we want to tween to*/</span>  <span class="p">);</span>
</code></pre></div>      </div>
      <ul>
        <li><code class="language-plaintext highlighter-rouge">animate</code> only works for numeric properties - it’s hard to tween to things like colors</li>
      </ul>

      <p>You can chain animations:</p>
      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">element</span><span class="dl">"</span> <span class="p">).</span><span class="nx">slideUp</span><span class="p">().</span><span class="nx">SlideDown</span><span class="p">().</span><span class="nx">animate</span><span class="p">({</span> <span class="cm">/*...*/</span> <span class="p">});</span>
</code></pre></div>      </div>
      <ul>
        <li>animations will play in order, left to right</li>
      </ul>

    </div></div></section>
<section id="exercise"><button class="collapsible">Exercise</button><div class="text-content"><div class="text-inner">

      <p>To see how this works together, we are going to create an application which tracks students and their favourite colors.</p>
      <ul>
        <li>We will allow adding new people</li>
        <li>We will allow updating their favourite color via buttons</li>
        <li>We will display the persons name background in their favourite color</li>
        <li>We will separate the Model from the View</li>
      </ul>

      <p><img src="res/fave-colors.png" alt="" /></p>

      <h3 id="html-and-css-setup">HTML and CSS Setup</h3>

      <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"X-UA-Compatible"</span> <span class="na">content=</span><span class="s">"IE=edge"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Document<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">integrity=</span><span class="s">"sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"style.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"text-center"</span> <span class="na">id=</span><span class="s">"container"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"insertion-point"</span><span class="nt">&gt;&lt;/div&gt;</span>
        <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">""</span><span class="nt">&gt;</span>
            <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"new-person-name"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/form&gt;</span>
        <span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"add-button"</span><span class="nt">&gt;</span>Add New Person<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"script.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>      </div>

      <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.red</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.blue</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="no">blue</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.green</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="no">green</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#container</span> <span class="p">{</span>
    <span class="nl">background-color</span><span class="p">:</span> <span class="n">light-blue</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span>
    <span class="nl">margin-top</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
    <span class="nl">margin-left</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>
    <span class="nl">margin-right</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#container</span> <span class="o">&gt;</span> <span class="o">*</span> <span class="o">&gt;</span> <span class="o">*</span> <span class="p">{</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nf">#container</span> <span class="o">&gt;</span> <span class="o">*</span> <span class="o">&gt;</span> <span class="nt">span</span> <span class="p">{</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div>      </div>

      <h3 id="setting-up-the-model">Setting up the Model</h3>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">personList</span> <span class="o">=</span> <span class="p">[];</span>

<span class="kd">function</span> <span class="nx">Person</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">color</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// todo: set our id, name and color!</span>
<span class="p">}</span>
</code></pre></div>      </div>

      <h3 id="adding-new-names-by-building-the-model">Adding new names by building the model</h3>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">#add-button</span><span class="dl">"</span> <span class="p">).</span><span class="nx">click</span> <span class="p">(</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="c1">//todo: create a new person with appropriate ID, name and default color </span>
        <span class="c1">// get currentID, name and set a default color here!</span>
        <span class="c1">// use the array index as the id, e.g. 0,1,2... etc.</span>
        <span class="c1">// find the textbox, and use the jQuery .val() function to get its value</span>
        <span class="c1">// use the default color of "black"</span>
        <span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">color</span><span class="p">);</span>
        <span class="nx">personList</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">person</span><span class="p">);</span>
        <span class="nx">buildList</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre></div>      </div>

      <h3 id="updating-colors-in-the-model">Updating Colors in the Model</h3>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">setColor</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">color</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// todo: find the person matching the ID and update the color </span>
<span class="p">}</span>
</code></pre></div>      </div>

      <h3 id="building-our-list">Building our list</h3>

      <p>Complete the following function to actually build the list:</p>

      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">buildList</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// remove all contents from the insertion point</span>
    <span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">#insertion-point</span><span class="dl">"</span> <span class="p">).</span><span class="nx">empty</span><span class="p">();</span>
    <span class="c1">// loop over list of people...</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">person</span> <span class="k">of</span> <span class="nx">personList</span><span class="p">)</span> <span class="p">{</span>

        <span class="c1">// append the persons name, in a &lt;span&gt;. Add the persons color to the span's class list.</span>
        <span class="c1">// hint, use template literals!</span>

        <span class="c1">// Create the RED button</span>
        <span class="c1">// Register a callback function so that, if it is pressed, we will update the model</span>
        <span class="c1">// so that the persons' favourite color is stored in the model, then rebuild the list.</span>

        <span class="c1">// Don't forget to add the RED button to the DOM!</span>

        <span class="c1">// Ditto GREEN button</span>
        
        <span class="c1">// Ditto BLUE button</span>
        
        <span class="nx">$</span><span class="p">(</span> <span class="dl">"</span><span class="s2">#insertion-point</span><span class="dl">"</span> <span class="p">).</span><span class="nx">append</span><span class="p">(</span> <span class="s2">`&lt;br&gt;`</span> <span class="p">);</span>
        
    <span class="p">}</span>
    
<span class="p">}</span>
</code></pre></div>      </div>

    </div></div></section>
<section id="labassignment"><button class="collapsible">Lab Assignment</button><div class="text-content"><div class="text-inner">

      <p>In this lab we return to the lab project. We are going to make a front-end only protoype of our application using JavaScript and jQuery, using the Model-View-Controller pattern. Recall, the end goal is to create a multi-user mesage posting application with voting capabilities. For now, we are going to simulate the applications usage using JavaScript, jQuery and DOM manipulations. We will create three sample users, selectable from a dropdown, to use the system from each of these views. Later, you will replace much of this functionality with server-side Node.js code. This lab will be primarily JavaScript / jQuery, but you can modify as needed your HTML, CSS, Bootstrap, and JavaScript.</p>

      <p><img src="res/progression.svg" alt="" /></p>

      <h3 id="non-persistent-interactivity">Non-persistent interactivity</h3>

      <p>You do not need to modify the login/register page.</p>

      <p>You do need to modify the note-vote page to include a dropdown of three sample users, as in the following screenshot:</p>

      <p><img src="res/switch-users.png" alt="" /></p>

      <p>I am using the bootstrap dropdown found here, with minimal changes:</p>

      <p><a href="https://getbootstrap.com/docs/5.0/components/dropdowns/">Bootstrap 5 Dropdown Buttons</a></p>

      <p>Using JavaScript / jQuery DOM manipulation, add the following functionality to the <code class="language-plaintext highlighter-rouge">note-vote</code> page:</p>

      <ul>
        <li>
          <p>When the Tester uses the user selection dropdown, switch the view so that it shows up as though that user was logged in.</p>
        </li>
        <li>
          <p>When the user types in a note and adds it, it should appear in the note list.</p>
        </li>
        <li>
          <p>Our note-vote system has the following rules</p>
          <ul>
            <li>If a given user wrote a note, they cannot vote on it, but they can always see the score</li>
            <li>If a given user did not write the note, and have not yet voted, they also cannot see the score
              <ul>
                <li>However, if they upvote the note, the upvote button becomes green and they can see the score</li>
                <li>If they downvote the note, the downvote button becomes red and they can see the score</li>
              </ul>
            </li>
            <li>The score of a note is the total number of upvotes, minus the total number of downvotes</li>
          </ul>
        </li>
      </ul>

      <p>There are two extra cases to be aware of:
    - If a user has already upvoted, and clicks the upvote button again, it will remove the upvote
      - Ditto for downvote
    - If a user has already upvoted, and then clicks the downvote button, it will remove the upvote and assign the downvote
      - And vice versa</p>

      <p>Consider the following scenario to completely understand the usage of the system.</p>

      <p>User A logs into a brand new system and posts their first note:</p>

      <p><img src="res/process-01.png" alt="" /></p>

      <p><img src="res/process-02.png" alt="" /></p>

      <p>Note that User A can see the score, but cannot vote.</p>

      <p>Now we switch to user B who can vote:</p>

      <p><img src="res/process-03.png" alt="" /></p>

      <p><img src="res/process-04.png" alt="" /></p>

      <p>Let’s have user B upvote the note:</p>

      <p><img src="res/process-05.png" alt="" /></p>

      <p>We can see the button is now green, indicating an upvote, with a score of 1.</p>

      <p>Let’s go back to User A:</p>

      <p><img src="res/process-06.png" alt="" /></p>

      <p>User A can still not vote, but can see the new score:</p>

      <p><img src="res/process-07.png" alt="" /></p>

      <p>Let’s switch to User C next:</p>

      <p><img src="res/process-08.png" alt="" /></p>

      <p><img src="res/process-09.png" alt="" /></p>

      <p>User C has not voted yet, so they cannot see the score. Let’s have them downvote:</p>

      <p><img src="res/process-10.png" alt="" /></p>

      <p>The score is now 0. Why? Because the one upvote and one downvote cancel each other out. Hopping back to A:</p>

      <p><img src="res/process-11.png" alt="" /></p>

      <p><img src="res/process-12.png" alt="" /></p>

      <p>User A has no way to tell if their note is controversial, or just unseen.</p>

      <p>Let’s hop back to B next:</p>

      <p><img src="res/process-13.png" alt="" /></p>

      <p>User B sees the score is Zero, even though they upvoted.</p>

      <p><img src="res/process-14.png" alt="" /></p>

      <p>By clicking on upvote again, they remove their vote:</p>

      <p><img src="res/process-15.png" alt="" /></p>

      <p>Again, the score is hidden, as they seemingly have not yet voted.</p>

      <p><img src="res/process-16.png" alt="" /></p>

      <p>Let’s have User B upvote again to get their score back:</p>

      <p><img src="res/process-17.png" alt="" /></p>

      <p>We are back to the previous state:</p>

      <p><img src="res/process-18.png" alt="" /></p>

      <p>Finally, let’s have B change their mind altogether, and move directly to a downvote:</p>

      <p><img src="res/process-19.png" alt="" /></p>

      <p>By clicking the downvote button, their upvote is removed and a downvote is issued, making the final score -2:</p>

      <p><img src="res/process-20.png" alt="" /></p>

      <p>Implementation:</p>

      <p>IMPORTANT: This app must be developed as a Model-View-Controller. That means you need to separate the Model from the View.</p>
      <ul>
        <li>You already did this last week, using JSON
          <ul>
            <li>This makes excellent test data as you are building your controller and view</li>
          </ul>
        </li>
        <li>Always perform updates according to the MVC strategy:</li>
        <li>When any user interacts with the system…
          <ul>
            <li>First update the model (change something in the list of JavaScript Objects)</li>
            <li>Then use the updated model to update the view</li>
            <li>The easiest way to do this is remove all view elements, and recreate from the view from scratch</li>
          </ul>
        </li>
      </ul>

      <h3 id="submission">Submission</h3>

      <p>This is a submission based lab, please submit to URCourses by the due date.</p>

      <p>Please include HTML, CSS and JavaScript files so that the complete system may by run by the grader.</p>
    </div></div></section>

    </main>

  </div>
  <footer>
    2022 Adam Tilson.
    <a href="https://creativecommons.org/licenses/by-nc-sa/2.0/"
      >CC-BY-NC-SA</a
    >
  </footer>
  <button onclick="topFunction()" id="topButton" title="Go to top">▲ Top</button> 
  <script src="/assets/js/script.js"></script>

</body>
</html>
